# CopyCat ACT - Math Practice Application

A comprehensive web application for ACT Math practice, featuring authentic test questions, AI-generated similar problems, and interactive worksheet generation.

## Table of Contents

- [Overview](#overview)
- [Architecture](#architecture)
- [Core Features](#core-features)
- [Application Pages](#application-pages)
- [React Components](#react-components)
- [Serverless Functions](#serverless-functions)
- [Data Management Scripts](#data-management-scripts)
- [Technologies Used](#technologies-used)
- [Setup & Deployment](#setup--deployment)
- [Environment Variables](#environment-variables)

## Overview

CopyCat ACT is a Progressive Web App (PWA) designed to help students practice ACT Math through:
- **Authentic Questions**: Access to real ACT Math questions from multiple test forms
- **AI-Generated Clones**: Similar practice problems created by various AI models
- **Worksheet Generation**: Printable practice worksheets with QR codes for explanations
- **Multi-Database Support**: Questions from ACT, SAT, and DRK databases
- **Responsive Design**: Optimized for both desktop and mobile learning

## Architecture

The application uses a modern serverless architecture:

```
Frontend (HTML/CSS/JS + React)
    ‚Üì
Netlify Functions (Serverless API)
    ‚Üì
Airtable Database (Questions, Skills, Explanations)
    ‚Üì
AI Services (OpenAI, Claude) for content generation
```

## Core Features

### üéØ Question Browsing & Practice
- Browse authentic ACT Math questions by test number and question number
- View questions with proper LaTeX mathematical notation
- Navigate between questions sequentially
- Display question diagrams and images

### üìù Worksheet Generation
- Create custom practice worksheets by skill category
- Select from ACT, SAT, and DRK question databases
- Include answer sheets with automatic answer key generation
- QR codes for quick access to question explanations
- Print-optimized layouts with proper page breaks

### ü§ñ AI-Generated Content
- Clone questions generated by multiple AI models (GPT-4, Claude, etc.)
- Automated explanation generation for complex problems
- Content cleanup and formatting tools

### üì± Progressive Web App
- Mobile-optimized interface with safe area support
- Offline-capable with service worker
- App-like experience on mobile devices

## Application Pages

### Main Application Pages

#### `public/index.html`
- **Purpose**: Landing page and navigation hub
- **Features**: Links to all major application sections

#### `public/copycats.html` 
- **Purpose**: Interactive ACT Math question viewer
- **Features**:
  - Browse questions by test number (A11, B04, B05, C01, etc.) and question number (1-60)
  - Real-time LaTeX mathematical rendering with KaTeX
  - Dark-themed UI optimized for readability
  - Display of question images and diagrams
  - Navigation controls (Previous/Next buttons)
  - Integration with clone question system

#### `public/worksheet.html`
- **Purpose**: Generate printable practice worksheets
- **Features**:
  - Select questions by skill category from multiple databases
  - Checkbox interface for question selection
  - Support for both LaTeX and photo question formats
  - QR code generation for explanation links
  - Optional answer sheet inclusion
  - Print-optimized CSS with page break controls
  - PWA capabilities for mobile use

#### `public/explain.html`
- **Purpose**: Question explanation and hint system
- **Features**:
  - AI-powered explanation generation
  - Step-by-step problem solving hints
  - Mathematical rendering with MathJax
  - Support for multiple explanation formats

#### `public/clone-worksheet.html`
- **Purpose**: Generate worksheets specifically for AI-generated clone questions
- **Features**:
  - Similar functionality to regular worksheet generator
  - Special handling for clone question metadata
  - Green-themed UI to distinguish from regular worksheets

### Specialized Testing Pages

#### `public/SATworksheet.html` & `public/DRKworksheet.html`
- **Purpose**: Database-specific worksheet generators
- **Features**: Tailored interfaces for SAT and DRK question databases

#### `public/practice.html`
- **Purpose**: Interactive practice mode
- **Features**: Focused practice environment with immediate feedback

### Development & Debug Pages

#### `public/copycats-debug.html`
- **Purpose**: Debug version of main viewer with enhanced logging
- **Features**: Detailed console output for troubleshooting

#### `public/debug-latex.html` & `public/test-mathjax.html`
- **Purpose**: LaTeX and MathJax rendering testing
- **Features**: Isolated environments for testing mathematical notation

#### `public/cleanup-explanations.html`
- **Purpose**: Administrative tool for content management
- **Features**: Interface for cleaning up LaTeX formatting in explanations

## React Components

### `src/App.jsx`
- **Purpose**: Main React application component
- **Features**:
  - Question browser with theme switching capabilities
  - Dropdown selectors for test and question numbers
  - Real-time question fetching and display
  - KaTeX mathematical rendering integration
  - Clone question display
  - Navigation controls
  - Theme system (Default, Mobile, Classroom, ADHD-friendly)

### `public/KatexRender.jsx`
- **Purpose**: Specialized component for LaTeX rendering
- **Features**:
  - Automated LaTeX to rendered math conversion
  - Error handling for malformed LaTeX
  - Integration with KaTeX library

## Serverless Functions

Located in `netlify/functions/`, these provide the backend API:

### `airtable.js` (Primary Data API)
- **Purpose**: Main data access layer
- **Features**:
  - Multi-database support (ACT, SAT, DRK)
  - Question retrieval by test/question number
  - Skill-based question filtering
  - Clone question management
  - Image handling with PNG priority over Photo fields
  - KTEX flag management for rendering preferences

### `generate-clone.js`
- **Purpose**: AI-powered clone question generation
- **Features**:
  - OpenAI integration for question generation
  - Automated similarity scoring
  - Database insertion of generated questions

### `get-explanation.js`
- **Purpose**: Generate explanations for questions
- **Features**:
  - OpenAI GPT-4 integration
  - Context-aware explanation generation
  - Formatted mathematical content

### `get-hints.js` & `get-hint.js`
- **Purpose**: Progressive hint system
- **Features**:
  - Multi-level hint generation
  - Step-by-step problem guidance

### `cleanup-explanations.js`
- **Purpose**: Content maintenance
- **Features**:
  - Automated LaTeX formatting cleanup
  - Batch processing capabilities

### Supporting Functions
- `anthropic-api.js`: Claude AI integration
- `deepseek-api.js`: DeepSeek AI model integration
- `test-connections.js`: API connectivity testing

## Data Management Scripts

### Python Scripts for Content Management

#### `Cleanup.py` & `cleanup_explanations_claude.py`
- **Purpose**: Clean and format explanation content
- **Features**:
  - Automated LaTeX formatting
  - Batch processing with rate limiting
  - Preview mode for safe testing

#### `copy_skills.py`
- **Purpose**: Replicate skill categories across databases
- **Features**: Cross-database skill synchronization

#### `get_test_numbers.py`
- **Purpose**: Extract available test numbers from database
- **Features**: Automated test number discovery

#### AI Model Integration Scripts
- `R1 CopyCat ACT.py`: R1 model integration
- `Gemma 3 Photo Copycat ACT.py`: Image-based question processing
- `Cleanup 4o CopyCats table.py`: GPT-4 content cleanup

### JavaScript Utilities
- `clean_test_numbers.js`: Test number validation
- `script.js`: General utility functions
- `get-env.js`: Environment variable management

## Technologies Used

### Frontend
- **HTML5**: Semantic markup with PWA features
- **CSS3**: Responsive design with print optimization
- **JavaScript (ES6+)**: Modern browser APIs and async operations
- **React 19**: Component-based UI (for main app)
- **KaTeX**: Mathematical notation rendering
- **MathJax**: Alternative math rendering engine
- **Marked**: Markdown processing

### Backend & Infrastructure
- **Netlify Functions**: Serverless backend API
- **Airtable**: Database and content management
- **Node.js**: Runtime environment

### AI & Content Generation
- **OpenAI GPT-4**: Question generation and explanations
- **Anthropic Claude**: Alternative AI model
- **DeepSeek**: Additional AI model option

### Development Tools
- **Vite**: Build tool and development server
- **ESLint**: Code linting
- **Python**: Data processing scripts

## Setup & Deployment

### Prerequisites
- Node.js 18+
- Python 3.8+ (for data scripts)
- Netlify account
- Airtable account with configured bases

### Installation
```bash
# Clone repository
git clone [repository-url]
cd copycat-act

# Install dependencies
npm install

# Install Python dependencies (for data scripts)
pip install -r requirements.txt

# Start development server
npm run dev
```

### Build for Production
```bash
# Build React app
npm run build

# Deploy to Netlify
netlify deploy --prod
```

## Environment Variables

### Required Airtable Configuration
```env
# Airtable API
AIRTABLE_API_KEY=your_airtable_api_key

# Database Base IDs
ACT_BASE_ID=your_act_base_id
SAT_BASE_ID=your_sat_base_id
DRK_BASE_ID=your_drk_base_id

# Table IDs
SKILLS_TABLE_ID=your_skills_table_id
PANDA_SKILLS_TABLE_ID=your_panda_skills_table_id
QUESTIONS_TABLE_ID=your_questions_table_id
COPYCATS_TABLE_ID=your_copycats_table_id
SAT_SKILLS_TABLE_ID=your_sat_skills_table_id
SAT_QUESTIONS_TABLE_ID=your_sat_questions_table_id
DRK_PANDA_SKILLS_TABLE_ID=your_drk_panda_skills_table_id
DRK_QUESTIONS_TABLE_ID=your_drk_questions_table_id
```

### AI Service Configuration
```env
# OpenAI
OPENAI_API_KEY=your_openai_api_key

# Anthropic Claude (optional)
ANTHROPIC_API_KEY=your_anthropic_api_key
```

### Development Configuration
```env
# Environment
NODE_ENV=development

# Base URLs
BASE_ID=your_primary_base_id
```

## File Structure

```
copycat-act/
‚îú‚îÄ‚îÄ public/                     # Static HTML pages
‚îÇ   ‚îú‚îÄ‚îÄ index.html             # Landing page
‚îÇ   ‚îú‚îÄ‚îÄ copycats.html          # Main question viewer
‚îÇ   ‚îú‚îÄ‚îÄ worksheet.html         # Worksheet generator
‚îÇ   ‚îú‚îÄ‚îÄ explain.html           # Explanation system
‚îÇ   ‚îú‚îÄ‚îÄ clone-worksheet.html   # Clone worksheet generator
‚îÇ   ‚îî‚îÄ‚îÄ ...                    # Additional pages
‚îú‚îÄ‚îÄ src/                       # React components
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx               # Main React app
‚îÇ   ‚îî‚îÄ‚îÄ index.html            # React app entry
‚îú‚îÄ‚îÄ netlify/functions/         # Serverless API
‚îÇ   ‚îú‚îÄ‚îÄ airtable.js           # Primary data API
‚îÇ   ‚îú‚îÄ‚îÄ generate-clone.js     # AI question generation
‚îÇ   ‚îî‚îÄ‚îÄ ...                   # Additional functions
‚îú‚îÄ‚îÄ copycats-app/             # Vite React build directory
‚îú‚îÄ‚îÄ *.py                      # Python data management scripts
‚îú‚îÄ‚îÄ *.js                      # JavaScript utilities
‚îú‚îÄ‚îÄ package.json              # Node.js dependencies
‚îú‚îÄ‚îÄ vite.config.js           # Vite configuration
‚îî‚îÄ‚îÄ netlify.toml             # Netlify deployment config
```

---

**Note**: This application is designed for educational use and requires proper API keys and database configuration to function. Ensure all environment variables are properly set before deployment. 